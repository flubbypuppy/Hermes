{
  "version": 3,
  "sources": ["../../vivid-studio/dist/vivid-studio.mjs"],
  "sourcesContent": ["import {\n  STORE_EMAIL,\n  get,\n  set,\n  sticker_default\n} from \"./chunk-VVZ5WFVG.mjs\";\nimport {\n  require_jsx_runtime\n} from \"./chunk-MYQY4P72.mjs\";\nimport {\n  require_react,\n  require_react_dom\n} from \"./chunk-MCR3DTYL.mjs\";\nimport {\n  __toESM,\n  init_buffer,\n  init_process\n} from \"./chunk-AZLL6FY2.mjs\";\n\n// src/vividProvider/utils/runtime.tsx\ninit_process();\ninit_buffer();\nvar ReactDOM = __toESM(require_react_dom());\n\n// src/vividProvider/components/VividLoader.tsx\ninit_process();\ninit_buffer();\nvar import_react2 = __toESM(require_react());\n\n// src/analytics/hooks/useUser.ts\ninit_process();\ninit_buffer();\nvar import_react = __toESM(require_react());\nvar useUser = () => {\n  const [email, setEmail] = (0, import_react.useState)(null);\n  (0, import_react.useEffect)(() => {\n    const loadEmail = async () => {\n      var _a;\n      const loadedEmail = (_a = await get(STORE_EMAIL)) != null ? _a : null;\n      if (loadedEmail)\n        setEmail(loadedEmail);\n    };\n    if (email === null)\n      loadEmail();\n    else\n      set(STORE_EMAIL, email);\n  }, [email]);\n  return {\n    email,\n    setEmail\n  };\n};\n\n// src/vividProvider/components/VividLoader.tsx\nvar import_jsx_runtime = __toESM(require_jsx_runtime());\nvar VividProvider = (0, import_react2.lazy)(\n  () => import(\"./VividProvider-C3OI5UFZ.mjs\").then((v) => ({ default: v.VividProvider }))\n);\nvar Loader = /* @__PURE__ */ (0, import_jsx_runtime.jsx)(\"img\", {\n  style: {\n    position: \"fixed\",\n    left: \"0.5em\",\n    bottom: \"0.5em\",\n    width: \"4em\",\n    height: \"4em\",\n    zIndex: 10010,\n    filter: \"contrast(0.7) grayscale(1) drop-shadow(0 0 15px rgba(0,0,0,0.4))\"\n  },\n  src: sticker_default\n});\nvar VividLoader = () => {\n  const { email, setEmail } = useUser();\n  return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(\"div\", {\n    id: \"vivid-root-app\",\n    children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(\"div\", {\n      className: \"font-sans font-normal border-box\",\n      children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_react2.Suspense, {\n        fallback: Loader,\n        children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(VividProvider, {\n          email,\n          setEmail\n        })\n      })\n    })\n  });\n};\n\n// src/vividProvider/utils/runtime.tsx\nvar import_jsx_runtime2 = __toESM(require_jsx_runtime());\nvar run = () => {\n  if (typeof document !== \"undefined\" && !window.hasOwnProperty(\"VIVID_MOUNTED\")) {\n    window.VIVID_MOUNTED = true;\n    const rootDiv = document.createElement(\"div\");\n    document.body.prepend(rootDiv);\n    if (ReactDOM.version.slice(0, 2) === \"17\") {\n      ReactDOM.render(/* @__PURE__ */ (0, import_jsx_runtime2.jsx)(VividLoader, {}), rootDiv);\n    } else {\n      import(\"./client-PTRILPC5.mjs\").then((ReactDOMClient) => {\n        ReactDOMClient.default.createRoot(rootDiv).render(/* @__PURE__ */ (0, import_jsx_runtime2.jsx)(VividLoader, {}));\n      });\n    }\n  }\n};\nexport {\n  run\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAoBA,aAAa;AACb,YAAY;AACZ,IAAI,WAAW,QAAQ,kBAAkB,CAAC;AAG1C,aAAa;AACb,YAAY;AACZ,IAAI,gBAAgB,QAAQ,cAAc,CAAC;AAG3C,aAAa;AACb,YAAY;AACZ,IAAI,eAAe,QAAQ,cAAc,CAAC;AAC1C,IAAI,UAAU,MAAM;AAClB,QAAM,CAAC,OAAO,QAAQ,KAAK,GAAG,aAAa,UAAU,IAAI;AACzD,GAAC,GAAG,aAAa,WAAW,MAAM;AAChC,UAAM,YAAY,YAAY;AAC5B,UAAI;AACJ,YAAM,eAAe,KAAK,MAAM,IAAI,WAAW,MAAM,OAAO,KAAK;AACjE,UAAI;AACF,iBAAS,WAAW;AAAA,IACxB;AACA,QAAI,UAAU;AACZ,gBAAU;AAAA;AAEV,UAAI,aAAa,KAAK;AAAA,EAC1B,GAAG,CAAC,KAAK,CAAC;AACV,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;AAGA,IAAI,qBAAqB,QAAQ,oBAAoB,CAAC;AACtD,IAAI,iBAAiB,GAAG,cAAc;AAAA,EACpC,MAAM,OAAO,wCAAgC,KAAK,CAAC,OAAO,EAAE,SAAS,EAAE,cAAc,EAAE;AACzF;AACA,IAAI,UAA0B,GAAG,mBAAmB,KAAK,OAAO;AAAA,EAC9D,OAAO;AAAA,IACL,UAAU;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,EACV;AAAA,EACA,KAAK;AACP,CAAC;AACD,IAAI,cAAc,MAAM;AACtB,QAAM,EAAE,OAAO,SAAS,IAAI,QAAQ;AACpC,UAAwB,GAAG,mBAAmB,KAAK,OAAO;AAAA,IACxD,IAAI;AAAA,IACJ,WAA2B,GAAG,mBAAmB,KAAK,OAAO;AAAA,MAC3D,WAAW;AAAA,MACX,WAA2B,GAAG,mBAAmB,KAAK,cAAc,UAAU;AAAA,QAC5E,UAAU;AAAA,QACV,WAA2B,GAAG,mBAAmB,KAAK,eAAe;AAAA,UACnE;AAAA,UACA;AAAA,QACF,CAAC;AAAA,MACH,CAAC;AAAA,IACH,CAAC;AAAA,EACH,CAAC;AACH;AAGA,IAAI,sBAAsB,QAAQ,oBAAoB,CAAC;AACvD,IAAI,MAAM,MAAM;AACd,MAAI,OAAO,aAAa,eAAe,CAAC,OAAO,eAAe,eAAe,GAAG;AAC9E,WAAO,gBAAgB;AACvB,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,aAAS,KAAK,QAAQ,OAAO;AAC7B,QAAI,SAAS,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM;AACzC,eAAS,QAAwB,GAAG,oBAAoB,KAAK,aAAa,CAAC,CAAC,GAAG,OAAO;AAAA,IACxF,OAAO;AACL,aAAO,iCAAyB,KAAK,CAAC,mBAAmB;AACvD,uBAAe,QAAQ,WAAW,OAAO,EAAE,QAAwB,GAAG,oBAAoB,KAAK,aAAa,CAAC,CAAC,CAAC;AAAA,MACjH,CAAC;AAAA,IACH;AAAA,EACF;AACF;",
  "names": []
}
